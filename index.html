<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AloWork</title>
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <div id="root"></div>

    <!-- Google Translate -->
    <div id="google_translate_element">
      <span style="font-size: 18px">üåê</span>
    </div>

    <script type="text/javascript">
      function googleTranslateElementInit() {
        new google.translate.TranslateElement(
          {
            pageLanguage: "auto",
            includedLanguages: "vi,en,de",
          },
          "google_translate_element"
        );
      }
    </script>

    <script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

    <script>
      // ‚úÖ T·ª± ƒë·ªông ƒëi·ªÅu ch·ªânh layout khi banner Google Translate xu·∫•t hi·ªán
      const adjustLayout = () => {
        const banner = document.querySelector(".goog-te-banner-frame");
        const translateElement = document.getElementById("google_translate_element");
        const root = document.getElementById("root");

        if (banner) {
          const bannerHeight = banner.offsetHeight || 40;
          if (translateElement) translateElement.style.top = bannerHeight + 10 + "px";
          if (root) root.style.marginTop = bannerHeight + "px";
        }
      };

      window.addEventListener("load", adjustLayout);
      window.addEventListener("resize", adjustLayout);
      setInterval(adjustLayout, 500);

      // ‚úÖ Fix Google Translate dropdown kh√¥ng hi·ªÉn th·ªã
      const fixTranslateDropdown = () => {
        const iframe = document.querySelector(".goog-te-menu-frame.skiptranslate");
        if (iframe) {
          iframe.style.position = "fixed";
          iframe.style.top = "60px";
          iframe.style.right = "20px";
          iframe.style.zIndex = "999999";
          iframe.style.pointerEvents = "auto";
          iframe.style.visibility = "visible";
          iframe.style.opacity = "1";
          iframe.style.display = "block";
        }
      };
      setInterval(fixTranslateDropdown, 800);
    </script>

<script>
  function googleTranslateElementInit() {
    new google.translate.TranslateElement(
      {
        pageLanguage: "auto",
        includedLanguages: "vi,en,de,fr,ja",
      },
      "google_translate_element"
    );
  }

  // Force hi·ªÉn th·ªã dropdown (Google Translate iframe)
  function forceShowTranslateMenu() {
    const iframe = document.querySelector("iframe.goog-te-menu-frame.skiptranslate");
    if (iframe) {
      iframe.style.display = "block";
      iframe.style.opacity = "1";
      iframe.style.visibility = "visible";
      iframe.style.zIndex = "9999999";
      iframe.style.position = "fixed";
      iframe.style.top = "70px";
      iframe.style.right = "20px";
      iframe.style.pointerEvents = "auto";
      iframe.contentWindow.document.body.style.pointerEvents = "auto";
    }
  }

      // Khi click icon üåê ho·∫∑c ch·ªçn ng√¥n ng·ªØ ‚Üí ƒë·∫£m b·∫£o hi·ªÉn th·ªã dropdown
      document.addEventListener("click", (e) => {
        if (e.target.closest("#google_translate_element")) {
          setTimeout(forceShowTranslateMenu, 300);
        }
      });

      // C·ª© m·ªói 1s ki·ªÉm tra ·∫©n/hi·ªán menu (ƒë·∫£m b·∫£o kh√¥ng b·ªã m·∫•t)
      setInterval(forceShowTranslateMenu, 1500);
    </script>

    <script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>


    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
